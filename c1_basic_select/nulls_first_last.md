# NULLS FIRST / NULLS LAST

NULLの出力順 

- NULL値：不明の値の出力順

## 問題

1. `close_date`:登記記録の閉鎖等年月日は、継続している法人の場合には値が入っていない。値の入っていない法人を優先させて出力する。
2. 逆に `close_date` に値の入っている法人を優先させて日付の新しい順に出力する。

## SQL

```sql
SELECT
  name,
  corporate_number, 
  city_name,
  close_date
FROM corporations 
ORDER BY close_date DESC NULLS FIRST;
```

```sql
SELECT
  name,
  corporate_number, 
  city_name,
  close_date
FROM corporations 
ORDER BY close_date DESC NULLS LAST;
```


## 結果

|name|corporate_number|city_name|close_date|
|---|---|---|---|
|福米東校区運動会等実行委員会|9700150072140 |米子市                 |<NULL>|
|有限会社小倉|1270002009895 |倉吉市                 |<NULL>|
|特定非営利活動法人このゆびとーまれ|1270005002732 |鳥取市                 |<NULL>|
|稲荷神社|1270005002939 |米子市                 |<NULL>|
|隆光寺|1270005004547 |東伯郡北栄町              |<NULL>|
|有限会社元山|2270002000011 |鳥取市                 |<NULL>|
|ＮＰＯ法人サポートイルカ|1270005004002 |米子市                 |<NULL>|
|有限会社足立生コン|2270002007584 |境港市                 |<NULL>|
|有限会社岡本製菓|2270002009894 |倉吉市                 |<NULL>|
|ＮＰＯ法人ねっこ|1270005005124 |鳥取市                 |<NULL>|

|name|corporate_number|city_name|close_date|
|---|---|---|---|
|有限会社港湾機動運輸|2270002005068 |鳥取市          |2016-06-21|
|有限会社岩美養鶏センター|1270002002413 |岩美郡岩美町  |2016-06-17|
|有限会社牝鹿|3270002007179 |米子市                 |2016-06-16|
|有限会社龍鱗|6270002010948 |東伯郡湯梨浜町          |2016-06-16|
|有限会社アキシタ|2270002009779 |倉吉市             |2016-06-13|
|合同会社でんき工房|5270003000305 |米               |2016-06-10|
|有限会社米松産業|2270002006933 |米                |2016-06-06|
|有限会社アシェット|3270002009225 |西伯             |2016-06-06|
|Ｒ．ａｒｔ株式会社|5270001003045 |鳥取             |2016-06-03|
|有限会社リビドー花はうす|9270002011324 |米子市      |2016-05-26|

## 解説

前節で「NULL はどのリテラルとも一致しない」ことを解説しました。ORDER BYで出力順を指定するときにNULLはどうなるでしょうか。  
どの値とも一致しない、不一致ともならない、大小関係も不明のNULLですが、ORDER BY のときには、NULLだけで固まるのが自然な要件です。通常、NULLはどの値よりも大きいと見なして順序付けします。  
その順番を変更したいときは、`NULLS FIRST`, `NULLS LAST` をつけてください。複数形にしないと、SYNTAX ERRORになります。