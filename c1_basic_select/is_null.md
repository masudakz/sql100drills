# IS NULL / IS NOT NULL

NULLの選択  

- NULL値：不明の値の扱い

## 問題

1. `close_date`:登記記録の閉鎖等年月日は、継続している法人の場合には値が入っていない。値の入っていない法人を10件出力する。
2. 逆に `close_date` に値の入っている法人を10件出力する。

## SQL

```sql
SELECT
  name,
  corporate_number, 
  city_name,
  close_date
FROM corporations 
WHERE close_date IS NULL
ORDER BY corporate_number
LIMIT 10;
```

```sql
SELECT
  name,
  corporate_number, 
  city_name,
  close_date
FROM corporations 
WHERE close_date IS NOT NULL
ORDER BY corporate_number
LIMIT 10;
```


## 結果

|name|corporate_number|city_name|close_date|
|---|---|---|---|
|鳥取簡易裁判所|1000013050238 |鳥取市                 |`<NULL>`|
|岩美町|1000020313025 |岩美郡岩美町              |`<NULL>`|
|智頭町|1000020313289 |八頭郡智頭町              |`<NULL>`|
|八頭町|1000020313297 |八頭郡八頭町              |`<NULL>`|
|南部町|1000020313891 |西伯郡南部町              |`<NULL>`|
|南部箕蚊屋広域連合|1000020318370 |西伯郡南部町              |`<NULL>`|
|北財産区|1000030310004 |鳥取市                 |`<NULL>`|
|川中樟原財産区|1000030310012 |鳥取市                 |`<NULL>`|
|樟原財産区|1000030310020 |鳥取市                 |`<NULL>`|
|大水財産区|1000030310029 |鳥取市                 |`<NULL>`|

|name|corporate_number|city_name|close_date|
|---|---|---|---|
|株式会社ソイル工学|1270001002364 |鳥取市                 |2016-01-15|
|株式会社くるま|1270001003222 |米子市                 |2016-04-25|
|株式会社サントップ|1270001006514 |鳥取市                 |2016-03-31|
|有限会社アンスター|1270002000103 |鳥取市                 |2016-02-02|
|有限会社岩美養鶏センター|1270002002413 |岩美郡岩美町              |2016-06-17|
|有限会社倉益商事|1270002005143 |鳥取市                 |2016-03-24|
|有限会社一峰商事|1270002005333 |米子市                 |2015-12-28|
|ふとん館有限会社|1270002006892 |米子市                 |2016-03-24|
|有限会社正輝運送|1270002007098 |米子市                 |2016-05-16|
|有限会社山陰結婚センター|1270002007437 |米子市                 |2016-03-24|

## 解説

RDBのカラムの値の状態としては、値がまだ入っていない状態があります。そのカラムを比較条件で扱うには、通常のリテラル（文字列定数/数値定数/日時型定数）を使うと、期待と異なる結果になってしまいます。

以下の条件に書き換えて結果を確認しておいてください。

- `close_date = ''`
 - 型不一致の syntax error になりましたか？
- `close_date = '1900-01-01 00:00:00'`
- `close_date <> '1900-01-01 00:00:00'`
- `close_date = NULL`
- `close_date <> NULL`

NULL はどのリテラルとも一致しません。不一致という結果にもなりません。不明の値なので、不一致かどうかも不明のままです。

NULLだけを選択する、あるいは逆にNULLだけを除外するには、専用の比較演算子 `IS NULL`, `IS NOT NULL` を使ってください。
